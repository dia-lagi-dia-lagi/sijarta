{% extends 'base.html' %}
{% block content %}
<div style="border: 1px solid #000; padding: 20px; max-width: 800px; margin: auto;">
    <h2 style="text-align: center;">Pekerjaan Jasa</h2>
    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
        <div style="flex: 1; margin-right: 10px;">
            <label for="kategori"><strong>Kategori:</strong></label>
            <select id="kategori" onchange="updateSubcategories()" style="width: 100%; padding: 5px;">
                <option value="">Pilih Kategori</option>
                <option value="home_cleaning">Home Cleaning</option>
                <option value="massage">Massage</option>
            </select>
        </div>
        <div style="flex: 1; margin-right: 10px;">
            <label for="subkategori"><strong>Subkategori:</strong></label>
            <select id="subkategori" style="width: 100%; padding: 5px;">
                <option value="">Pilih Subkategori</option>
            </select>
        </div>
        <div>
            <button onclick="filterJobs()" style="padding: 5px 10px; background-color: #007bff; color: #fff; border: none; cursor: pointer;">
                Search
            </button>
        </div>
    </div>
    <div id="job_list" style="margin-top: 20px;">
        <!-- Example Job Listings -->
        <div style="border: 1px solid #000; padding: 10px; margin-bottom: 10px;">
            <div style="display: flex; justify-content: space-between;">
                <div><strong>Nama Subkategori Pesanan:</strong> Daily Cleaning</div>
                <div><strong>Nama Pelanggan:</strong> Jane Doe</div>
                <div><strong>Total Biaya:</strong> Rp 150,000</div>
                <div>
                    <button style="padding: 5px 10px; background-color: #28a745; color: #fff; border: none; cursor: pointer;">
                        Kerjakan Pesanan
                    </button>
                </div>
            </div>
            <div style="margin-top: 10px;">
                <strong>Tanggal Pemesanan:</strong> 18 Nov 2024<br>
                <strong>Tanggal Pekerjaan:</strong> 20 Nov 2024
            </div>
        </div>
    </div>
</div>

<script>
function updateSubcategories() {
    const category = document.getElementById("kategori").value;
    const subcategoryDropdown = document.getElementById("subkategori");
    subcategoryDropdown.innerHTML = ""; // Clear existing options

    if (category === "home_cleaning") {
        const options = ["Setrika", "Daily Cleaning", "Pembersihan Dapur"];
        options.forEach(option => {
            const opt = document.createElement("option");
            opt.value = option.toLowerCase().replace(" ", "_");
            opt.innerText = option;
            subcategoryDropdown.appendChild(opt);
        });
    } else if (category === "massage") {
        const options = ["Relaxing Massage", "Deep Tissue Massage"];
        options.forEach(option => {
            const opt = document.createElement("option");
            opt.value = option.toLowerCase().replace(" ", "_");
            opt.innerText = option;
            subcategoryDropdown.appendChild(opt);
        });
    }
}

function filterJobs() {
    // Placeholder function for filtering jobs based on selected criteria
    alert("Filtering jobs based on selected category and subcategory!");
}
</script>
{% endblock %}